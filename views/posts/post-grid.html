<div
	pw-feed-post
	pw-grid-item
	class="post view--grid pw-transition-fadein"
	pw-timeout="{{ (post.feed.loadOrder * 100) }}"
	timeout-action="addClass('fadein-on')"
	ng-hide="post.post_status == 'trash'"
	pw-ui>
	<div
		class="post-wrapper"
		pw-hover-class="hover"
		hover-on-delay="100"
		hover-off-delay="0">
		<a
			href="{{ ::post.post_permalink }}"
			pw-open-modal="{ mode:'feed', post:post }"
			modal-eval="!isDevice(['mobile'])">
			
			<!--
				- if bypass is true, don't do prevent default click, do nothing,
				letting the link be natural
				- allow for a global bypass context via some filtering mechanism, add to scripts.js
				- make a single directive, not nested function access
			-->

			<div
				class="grid-image"
				pw-smart-image="::post.image"
				smart-image-override="::post.image.alt">
			</div>
			<div
				class="color-overlay"
				ng-style="::{background:getHex(post,'dynamic.75')}">
			</div>
			<div class="overlay">
				<div
					class="link-format-indicator"
					ng-class="post.link_format">
					<div ng-show="post.link_format == 'video'">
						<button
							class="btn video"
							ng-style="::{color:getHex(post,'dynamic.100'), background:getHex(post,'dynamic.0')}">
							<i class="pwi-triangle-right-fill"></i>
						</button>
					</div>
					<div ng-show="post.link_format == 'audio'">
						<button class="btn audio">
							<i class="pwi-headphones"></i>
						</button>
					</div>
				</div>
			</div>
			<div class="grid-info">
				<h2>{{ post.post_title }}</h2>
			</div>
		</a>
		<div
			class="details"
			ng-style="::{background:getHex(post,'dynamic.25')}">
			<div class="details-inner">
				<span class="time">{{ post.time_ago }}</span> 
				<span class="post-excerpt" ng-show="post.post_excerpt">
					<span class="span-spacer"> â€¢ </span>
					{{ post.post_excerpt }}
				</span>
				<!-- TAGS -->
				<div
					class="taxonomy category"
					ng-show="uiBoolean(post.taxonomy.category)">
					<span ng-repeat="term in post.taxonomy.category">
						<a
							href="{{term.url}}"
							ng-class="term.slug"
							class="term category"
							ng-style="::{color:getHex(post,'dynamic.100'), background:getHex(post,'dynamic.0')}">
							{{term.name}}
						</a>
					</span>
				</div>

				<!-- POST CONTROLS -->
				<div
					pw-include="panels/post-controls"
					include-post="post"
					include-eval="isLoggedIn()&&!isDevice(['mobile'])">
				</div>

			</div>
		</div>
	</div>
</div>