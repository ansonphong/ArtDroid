<div
	pw-post
	post-required-fields="['gallery(ids,posts)']"

	art-post

	pw-language
	class="post"  tabindex="0" ng-keypress="keyPress()">

	<!-- LOADING 
	<div ng-show="status=='loading'" class="loading">
		<i class="icon-spinner icon-spin icon-large"></i>
	</div>
	-->

	<div class="media-viewer" window-height="85%" >
	
		<!-- IMAGE -->
		<!--<div
			class="view-image"
			ng-style="backgroundImage( post.image.sizes.full.url )">
		</div>-->
		
		<!-- INFINITE GALLERY -->
		<div

			pw-infinite-gallery
			gallery-preload="2"
			gallery-scroll="galleryGetNext(3)"
			gallery-scroll-direction="horizontal"

			class="view-gallery-horizontal">

			<button ng-click="galleryGetNext( 2 )" style="position:absolute;">
				Get Next ›› {{ galleryDisplayedCount() }} / {{ galleryPostCount() }}
			</button>

			<div class="scrolls"
			
				infinite-h-scroll

			>
				<div
					class="gallery-image"
					ng-repeat="galleryPost in galleryDisplayedPosts()">
					<!--{{ galleryPost.ID }} // {{ galleryPost.post_title }}-->

					<img ng-src="{{galleryPost.image.sizes.full.url}}">

				</div>
			</div>


		</div>

		<!-- EMBED -->

	</div>
	
	<hr>

	<div
		ng-show="feed">
		<button ng-click="previousPost()"> ‹‹ Previous </button>
		<button ng-click="nextPost()"> Next ›› </button>
		tag : {{ selectImageTag() }}
	</div>

	<hr>

	POST : {{ post | json }}

	<hr>

	FEED : {{ feed | json }}

	<!-- WRAPPER (Cloak until loaded) -->
	<div
		ng-cloak ng-hide="status=='loading'"
		class="i-transition-fadein wrapper"
		pw-timeout="333"
		timeout-action="addClass('fadein-on')">

			<!-- MEDIA 
			<div
				class="media-embed layer-2"
				ng-class="post.link_format"
				ng-show="post.link_format == 'video' || post.link_format == 'audio'">
				<div
					class="o-embed"
					o-embed="post.link_url"
					autoplay="true"
					run="post.link_format == 'video' || post.link_format == 'audio'">
					<div class="o-embed" ng-bind-html="oEmbed"></div>
				</div>
			</div>
			-->

	</div>
	<!-- END WRAPPER -->
	<!--
	STATUS : {{ status }} <br>
	MODE : {{ mode }} <br>
	POST : <pre>{{ post | json }}</pre>
	<hr>
	<pre>{{ post | json }}</pre>
	-->
	
</div><!-- END CONTROLLER -->
