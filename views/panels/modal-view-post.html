<div
	pw-post
	pw-language
	unify-post
	class="view-post post post-modal"
	pw-ui>

	<!-- LOADING -->
	<div ng-show="status=='loading'" class="module loading">
		<i class="icon-spinner icon-spin icon-large"></i>
	</div>

	<!-- WRAPPER (Cloak until loaded) -->
	<div class="wrapper" ng-cloak ng-hide="status=='loading'">

		<!-- POST FORMAT : IMAGE -->
		<!-- ng-show="post.post_format == 'image'" -->
		<div
			class="module feature_image layer-2">
			<a href="{{post.image.full.url}}" download>
				<img ng-src="{{post.image.large.url}}">
			</a>
		</div>

		<!-- POST FORMAT : LINK -->
		<div
			ng-show="post.post_format == 'link'">
			<!-- MEDIA -->
			<div
				class="module media-embed layer-2"
				ng-class="post.link_format"
				ng-show="post.link_format == 'video' || post.link_format == 'audio'">
				<div
					o-embed="post.link_url"
					autoplay="true"
					run="post.link_format == 'video' || post.link_format == 'audio'">
					<div class="loading" ng-show="oEmbedStatus[post.link_url] == 'loading'">
						<i class="icon-spinner icon-spin"></i>
					</div>
					<div class="o-embed" ng-bind-html="oEmbed"></div>
				</div>
			</div>
		</div>

		<!--///// POST ACTIONS /////-->
		<div pw-post-actions
			ng-cloak
			class="interactions post-menu layer-4"
			ng-show="current_user_id">
			<!-- FAVORITE -->
			<button prevent-default-click ng-click="setFavorite()" ng-class="isFavorite" class="favorites">
				<i ng-show="favoriteStatus=='busy'" class="icon-spinner" ng-class="spinnerClass"></i>
				<i ng-show="favoriteStatus!='busy'" class="icon-heart"></i>
			</button>
			<!-- DROPDOWN -->
			<span
				dropdown
				pw-admin-post-menu
				ng-show="userOptions != 0"
				class="admin_menu dropdown">
				<button prevent-default-click dropdown-toggle class="view_later edit">
					<i class="icon-caret-down"></i>
				</button>
				<ul class="dropdown-menu pull-right" role="menu" aria-labelledby="dLabel" >
					<li prevent-default-click ng-repeat="item in userOptions">
						<button ng-click="menuAction(item.action)"><i ng-class="item.icon"></i> <span ng-bind="item.name"></span></button>
					</li>
				</ul>
			</span>
		</div>


		<!-- POST -->
		<div class="post-wrapper">

			<header>
				<!-- HEADING -->
				<h1>
					<!-- ICON -->
					<span ng-show="post.post_format == 'link'">
						<i ng-show="post.link_format == 'video'" class="icon-youtube-play"></i>
						<i ng-show="post.link_format == 'audio'" class="icon-headphones"></i>
						<i ng-show="post.link_format == 'link'" class="icon-link"></i>
					</span>
					<!-- TITLE -->
					<a ng-href="{{post.post_permalink}}">{{post.post_title}}</a>
					<!-- VISIT LINK -->
					<span ng-show="post.post_format == 'link'">
						<a ng-href="{{post.link_url}}" target="_blank" class="btn btn-blue">
							Visit Link <i class="icon-external-link"></i>
						</a>
					</span>
				</h1>
				
				<div class="clearfix"></div>

				<div class="details">
					<!-- AVATAR -->
					<span class="avatar avatar-sm">
						<a href="{{post.author.user_profile_url}}">
							<img class="avatar-image" ng-src="{{ post.avatar.small.url }}">
							<span>{{ post.author.display_name }}</span>
						</a>
					</span>
					<span class="date">
						{{ post.time_ago }}
					</span>
				</div>
			</header>

			<!-- POST FORMAT : STANDARD -->
			<div ng-show="uiBoolean(post.post_content)"
				class="post-content">
				<hr>
				<img
					ng-hide="post.post_format == 'image' || post.link_format == 'video' || post.link_format == 'audio'"
					ng-src="{{ post.image.medium.url }}" class="alignleft round-md">
				<!-- POST CONTENT -->
				<div ng-bind-html="post.post_content"></div>
				<div class="clearfix"></div>
			</div>

			<!-- COMMENTS 
			<a name="comments"></a>
			<script type="text/javascript" charset="utf-8">
				var load_comments = [];
				load_comments['post_single'] = {
					query : {
						//post_id : 1,
						status: 'approve',
						orderby : 'comment_points',
					},
					fields : 'all',
					tree : true,
					order_options : {
						'comment_points' : 'Points',
						'comment_date' : 'Date',
					},
					min_points : -1,
					view: 'default', // Optional, default value is default
				};
			</script>

			<div streeview load-comments="post_single" ng-include="templateUrl" post="post"></div>
			-->

		</div>

	</div>
	<!-- END WRAPPER -->
	<!--
	STATUS : {{ status }} <br>
	MODE : {{ mode }} <br>
	POST : <pre>{{ post | json }}</pre>
	<hr>
	<pre>{{ post | json }}</pre>
	-->
	
</div><!-- END CONTROLLER -->
